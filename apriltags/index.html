<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <base target="_blank">

    <title>Apriltag Example </title>

    <link href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="main.css">

</head>

<body>

    <h1>AprilTag Example</h1>

    <p>To use video with LiveServer, you may need to go to `chrome://flags/#unsafely-treat-insecure-origin-as-secure` in your Chrome browser and enter in `http://127.0.0.1`. This is the IP address of our own computer. Webcams are only enabled on secure servers (HTTPS vs HTTP); for local testing on our computers, this setting allows an exception.</p>

    <p>Use an AprilTag from here: <a href="https://github.com/arenaxr/apriltag-gen/tree/master/output">https://github.com/arenaxr/apriltag-gen/tree/master/output</a> -- specifically, <a href="https://github.com/arenaxr/apriltag-gen/blob/master/output/tag36_11_00103.pdf">Tag 103</a>.
        Check the console to see if it can trigger! 
    </p>

<div id="container">


</div>

<button
<div id="webcam-container">
    <video id="webcam_canvas" playsinline autoplay style="display:none"></video>
    <canvas id="out_canvas"></canvas>
</div>

<script src="apriltagjs/start_video.js" async></script>
<script src="apriltagjs/on_tag_logic.js"></script>
<script type="module" src="apriltagjs/video_process.js" async></script>

<script>

// create a tagManager
const tagManager = new TagManager();

//////////////////
/// CHANGE CODE BELOW
//////////////////
//////////////////
//////////////////
//////////////////
//////////////////







//make an new tag
var tag103 = new Tag(103);

// do stuff when it's visible
tag103.onShow(() => {
    console.log(`Tag ${tag103.id} is now visible`);
});

// do stuff when it's hidden
tag103.onHide(() => {
    console.log(`Tag ${tag103.id} is now hidden`);
});

// add this tag to the system that manages all tags
tagManager.addTag(tag103);








//////////////////
//////////////////
//////////////////
//////////////////
///CHANGE CODE ABOVE
//////////////////

function processDetections(tags) {
    tagManager.updateTags(tags);
}



</script>

</body>
</html>
